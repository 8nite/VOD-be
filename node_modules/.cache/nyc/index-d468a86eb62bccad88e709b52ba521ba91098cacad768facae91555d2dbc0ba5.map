{"version":3,"sources":["index.js"],"names":["router","express","Router","get","req","res","next","options","uri","headers","json","then","$","query","filter","filterList","entries","entry","categories","some","category","id","send"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAIA,MAAM,GAAGC,oBAAQC,MAAR,EAAb;AAEA;;;AACAF,MAAM,CAACG,GAAP,CAAW,GAAX,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AACxC,MAAMC,OAAO,GAAG;AACdC,IAAAA,GAAG,EAAE,gFADS;AAEdC,IAAAA,OAAO,EAAE;AACP,sBAAgB;AADT,KAFK;AAKdC,IAAAA,IAAI,EAAE;AALQ,GAAhB;AAOA,kCAAGH,OAAH,EAAYI,IAAZ,CAAiB,UAACC,CAAD,EAAO;AACtB,QAAIR,GAAG,CAACS,KAAJ,CAAUC,MAAV,IAAoBV,GAAG,CAACS,KAAJ,CAAUC,MAAV,KAAqB,EAAzC,IAA+CV,GAAG,CAACS,KAAJ,CAAUC,MAAV,KAAqB,MAAxE,EAAgF;AAC9E,UAAIC,UAAU,GAAGH,CAAC,CAACI,OAAF,CAAUF,MAAV,CAAiB,UAACG,KAAD;AAAA,eAAWA,KAAK,CAACC,UAAN,CAAiBC,IAAjB,CAAsB,UAACC,QAAD;AAAA,iBAAcA,QAAQ,CAACC,EAAT,KAAgBjB,GAAG,CAACS,KAAJ,CAAUC,MAAxC;AAAA,SAAtB,CAAX;AAAA,OAAjB,CAAjB;AACAT,MAAAA,GAAG,CAACiB,IAAJ,CAAS;AAACN,QAAAA,OAAO,EAAED;AAAV,OAAT;AACD,KAHD,MAKEV,GAAG,CAACiB,IAAJ,CAASV,CAAT;AACH,GAPD;AAQD,CAhBD;eAkBeZ,M","sourceRoot":"C:\\Users\\herbe\\Documents\\GitHub\\Accedo-BE\\src\\routes","sourcesContent":["import express from 'express'\nimport rp from 'request-promise'\n\nvar router = express.Router();\n\n/* GET home page. */\nrouter.get('/', function (req, res, next) {\n  const options = {\n    uri: 'https://accedo-ps-programming-exam.s3-ap-southeast-1.amazonaws.com/movies.json',\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    json: true\n  }\n  rp(options).then(($) => {\n    if (req.query.filter && req.query.filter !== '' && req.query.filter !== 'null') {\n      let filterList = $.entries.filter((entry) => entry.categories.some((category) => category.id === req.query.filter))\n      res.send({entries: filterList})\n    }\n    else\n      res.send($)\n  })\n});\n\nexport default router;\n"]}